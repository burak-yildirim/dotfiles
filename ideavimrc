"" .ideavimrc is a configuration file for IdeaVim plugin. It uses
""   the same commands as the original .vimrc configuration.
"" You can find a list of commands here: https://jb.gg/h38q75
"" Find more examples here: https://jb.gg/share-ideavimrc
"
"
""" -- Suggested options --
"" Show a few lines of context around the cursor. Note that this makes the
"" text scroll if you mouse-click near the start or end of the window.
"set scrolloff=5
"
"" Do incremental searching.
"set incsearch
"
"" Don't use Ex mode, use Q for formatting.
"map Q gq
"
"" --- Enable IdeaVim plugins https://jb.gg/ideavim-plugins
"
"" Highlight copied text
"Plug 'machakann/vim-highlightedyank'
"" Commentary plugin
"Plug 'tpope/vim-commentary'
"
"
""" -- Map IDE actions to IdeaVim -- https://jb.gg/abva4t
""" Map \r to the Reformat Code action
""map \r <Action>(ReformatCode)
"
""" Map <leader>d to start debug
""map <leader>d <Action>(Debug)
"
""" Map \b to toggle the breakpoint on the current line
""map \b <Action>(ToggleLineBreakpoint)

"" #######################
"" END OF DEFAULT SETTINGS
"" #######################

"" ##################
"" MY CUSTOM SETTINGS
"" ##################

" https://github.com/JetBrains/ideavim/blob/master/doc/IdeaVim%20Plugins.md
" https://github.com/JetBrains/ideavim/discussions/303#discussioncomment-12591982
let mapleader = ' '

" Start searching and highlighting as typing
set incsearch
" Enable Which-Key plugin
set which-key
" Do not hide Which-Key popup
set notimeout
" Enable search highlighting
set hls
" Case-insensitive search
set ignorecase
" case-sensitive search if search query includes capital letter
set smartcase
" Relative line numbers by default
set relativenumber
" yanking to-from clipboard
set clipboard+=unnamed
" minimum number of lines above and below the cursor
set scrolloff=10

" Turn off search highlight till search again
nnoremap <Esc> :nohlsearch<CR>

" previous/next buffer
nnoremap [b :bp<CR>
nnoremap ]b :bn<CR>

" Move easier between windows
noremap <C-h> <C-w><C-h>
noremap <C-l> <C-w><C-l>
noremap <C-j> <C-w><C-j>
noremap <C-k> <C-w><C-k>

" Rename
" TODO: mappings which contain <Action> doesn't function as intended, yanks weird things.
nmap grn <Action>(Rename)

" Highlight copied text
Plug 'machakann/vim-highlightedyank'

" Commentary plugin
Plug 'tpope/vim-commentary'

" File explorer
" Plug 'preservim/nerdtree'
" nnoremap <Leader>e :NERDTreeToggle<CR>
" nnoremap <leader>n :NERDTreeFocus<CR>
" nnoremap <C-n> :NERDTree<CR>
" nnoremap <C-f> :NERDTreeFind<CR>

" fzf
Plug 'junegunn/fzf.vim'
